#LyX 2.1 created this file. For more info see http://www.lyx.org/
\lyxformat 474
\begin_document
\begin_header
\textclass article
\begin_preamble
% bring items closer together
\newcommand{\narrowItem}{\vspace{-6pt}\item}

% redefine used item in environment
\author{Andreas Nicolai}
\date{\small Institut für Bauklimatik (Institute of Building Climatology)  \\ Technische Universität Dresden \\  D-01062 Dresden, Germany \\ andreas.nicolai@tu-dresden.de }

% colosr
\definecolor{linkblue}{rgb}{0,0,0.4}
\definecolor{light-gray}{gray}{0.98}
\definecolor{dark-gray}{gray}{0.45}

%\usepackage{dsfont}

\usepackage{booktabs}
\usepackage[font=small]{caption}

\usepackage[a-1b]{pdfx}
%\usepackage[useBOM]{xmpincl}
\end_preamble
\options useBOM
\use_default_options true
\maintain_unincluded_children false
\language english
\language_package default
\inputencoding utf8
\fontencoding global
\font_roman lmodern
\font_sans default
\font_typewriter default
\font_math auto
\font_default_family rmdefault
\use_non_tex_fonts false
\font_sc false
\font_osf false
\font_sf_scale 100
\font_tt_scale 100
\graphics default
\default_output_format default
\output_sync 0
\bibtex_command default
\index_command default
\paperfontsize 10
\spacing single
\use_hyperref true
\pdf_title "C6B Climate Data Container File Specification"
\pdf_author "Andreas Nicolai"
\pdf_subject "Definition of climate data container binary format"
\pdf_keywords "Climate data, file format"
\pdf_bookmarks true
\pdf_bookmarksnumbered false
\pdf_bookmarksopen false
\pdf_bookmarksopenlevel 1
\pdf_breaklinks false
\pdf_pdfborder true
\pdf_colorlinks true
\pdf_backref false
\pdf_pdfusetitle true
\pdf_quoted_options "linkcolor=linkblue,citecolor=linkblue,linktocpage=true"
\papersize default
\use_geometry true
\use_package amsmath 1
\use_package amssymb 1
\use_package cancel 1
\use_package esint 1
\use_package mathdots 1
\use_package mathtools 1
\use_package mhchem 1
\use_package stackrel 1
\use_package stmaryrd 1
\use_package undertilde 1
\cite_engine basic
\cite_engine_type default
\biblio_style plain
\use_bibtopic false
\use_indices false
\paperorientation portrait
\suppress_date false
\justification true
\use_refstyle 1
\index Index
\shortcut idx
\color #008000
\end_index
\leftmargin 2cm
\topmargin 2.5cm
\rightmargin 2cm
\bottommargin 2cm
\secnumdepth 3
\tocdepth 3
\paragraph_separation skip
\defskip smallskip
\quotes_language english
\papercolumns 1
\papersides 1
\paperpagestyle default
\listings_params "basicstyle={\ttfamily\footnotesize},commentstyle={\ttfamily}"
\tracking_changes false
\output_changes false
\html_math_output 0
\html_css_as_file 0
\html_be_strict false
\end_header

\begin_body

\begin_layout Title
DELPHIN 6 Climate Data File Specification, Version 1.0
\begin_inset Newline newline
\end_inset


\size large
Technical Report
\end_layout

\begin_layout Abstract
This paper describes the file format of the climate data container used
 by the 
\shape italic
DELPHIN
\shape default
, 
\shape italic
THERAKLES
\shape default
 and 
\shape italic
NANDRAD
\shape default
 simulation programs.
 The climate data container format holds a binary representation of annual
 and continuous climatic data needed for hygrothermal transport and building
 energy simulation models.
 The content of the C6B-Format is roughly equivalent to the epw-climate
 data format.
\end_layout

\begin_layout Abstract
\begin_inset CommandInset toc
LatexCommand tableofcontents

\end_inset


\end_layout

\begin_layout Section
Introduction
\end_layout

\begin_layout Standard
The C6B file format is an extendible binary container format, dedicated
 to storing climate data.
 It is meant to be used for annual hourly data, whereby leap years are excluded.
 Consequently, an annual hourly climate data file will always have 8760
 values per climate component.
 With 
\shape italic
climate component 
\shape default
we mean a specific measured quantity such as temperature, relative humidity
 or air pressure.
 
\end_layout

\begin_layout Standard
The container format can also be used to store measured continuous data
 of arbitrary sampling frequency or uneven sampling intervals.
 For this purpose the table with data can be followed by a single data array
 with the time points.
 The data format does not use a specific date/time representation, so that
 daylight-savings time does not need to be addressed.
 Simulation programs using the data and user interfaces must convert data
 points to corresponding date/time representations.
\end_layout

\begin_layout Standard
The C6B format serves as standard container format for file-based climate
 databases, used by the simulation software DELPHIN, THERAKLES and NANDRAD
 of the Institut für Bauklimatik of the Technische Universität Dresden,
 Germany.
\begin_inset Newpage newpage
\end_inset


\end_layout

\begin_layout Subsection
General File Layout
\end_layout

\begin_layout Standard
All C6B files are composed of three sections:
\end_layout

\begin_layout Itemize
Magic header section
\end_layout

\begin_layout Itemize
Meta data section
\end_layout

\begin_layout Itemize
Data section
\end_layout

\begin_layout Subsection
Principle Data Types
\begin_inset CommandInset label
LatexCommand label
name "sub:Principle-Data-Types"

\end_inset


\end_layout

\begin_layout Standard
The file is written using standard data type encoding, listed in Table
\begin_inset space ~
\end_inset


\begin_inset CommandInset ref
LatexCommand ref
reference "tab:Binary-Encoding-Standard-Datatypes"

\end_inset

.
 Strings and arrays are stored in variable-length format.
 Empty strings and arrays are encoded by a single 32bit unsigned integer
 value of 
\family typewriter
0x00000000
\family default
.
 Note that strings 
\shape italic
do not 
\shape default
contain a termination character.
\end_layout

\begin_layout Standard
\begin_inset Float table
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Tabular
<lyxtabular version="3" rows="7" columns="3">
<features rotate="0" tabularvalignment="middle">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top" width="7cm">
<column alignment="left" valignment="top" width="0pt">
<row>
<cell alignment="center" valignment="top" topline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\family typewriter
\series bold
\size footnotesize
Count
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\family typewriter
\series bold
\size footnotesize
Data Type
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" topline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\family typewriter
\series bold
\size footnotesize
Description
\end_layout

\end_inset
</cell>
</row>
<row>
<cell multicolumn="1" alignment="center" valignment="top" topline="true" bottomline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\series bold
\size footnotesize
Strings
\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\family typewriter
\size footnotesize
1
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\family typewriter
\size footnotesize
32bit unsigned int
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\family typewriter
\size footnotesize
Number of characters in string -> n
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\family typewriter
\size footnotesize
n
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\family typewriter
\size footnotesize
8bit char
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\family typewriter
\size footnotesize
Characters in string
\end_layout

\end_inset
</cell>
</row>
<row>
<cell multicolumn="1" alignment="center" valignment="top" topline="true" bottomline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\series bold
\size footnotesize
Array of Doubles
\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\family typewriter
\size footnotesize
1
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\family typewriter
\size footnotesize
32bit unsigned int
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\family typewriter
\size footnotesize
Number of values in array -> n
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\family typewriter
\size footnotesize
n
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\family typewriter
\size footnotesize
64bit double
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\family typewriter
\size footnotesize
Values in array
\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Binary Encoding for Standard Data Types
\begin_inset CommandInset label
LatexCommand label
name "tab:Binary-Encoding-Standard-Datatypes"

\end_inset


\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Section
Magic Header and File Version
\end_layout

\begin_layout Standard
\begin_inset Float table
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Tabular
<lyxtabular version="3" rows="5" columns="2">
<features rotate="0" tabularvalignment="middle">
<column alignment="center" valignment="top" width="0pt">
<column alignment="left" valignment="top" width="0pt">
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\family typewriter
\series bold
\size footnotesize
Data Type
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" topline="true" bottomline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\family typewriter
\series bold
\size footnotesize
Description
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\family typewriter
\size footnotesize
32bit unsigned int
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\family typewriter
\size footnotesize
Magic header part 1 (= 
\begin_inset Quotes eld
\end_inset

CLDF
\begin_inset Quotes erd
\end_inset

)
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\family typewriter
\size footnotesize
32bit unsigned int
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\family typewriter
\size footnotesize
Magic header part 2 (= 
\begin_inset Quotes eld
\end_inset

RLZ!
\begin_inset Quotes erd
\end_inset

)
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\family typewriter
\size footnotesize
32bit unsigned int
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\family typewriter
\size footnotesize
Version number
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\family typewriter
\size footnotesize
32bit unsigned int
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\family typewriter
\size footnotesize
always = 0x00000000
\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Format of Magic Header and Version Encoding
\begin_inset CommandInset label
LatexCommand label
name "tab:Magic-Header"

\end_inset


\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
The data file begins with a header structure stored in the first 16
\begin_inset space \thinspace{}
\end_inset

bytes of the file (see Table
\begin_inset space ~
\end_inset


\begin_inset CommandInset ref
LatexCommand ref
reference "tab:Magic-Header"

\end_inset

).
 The first 4
\begin_inset space \thinspace{}
\end_inset

bytes encode the identity of a file, and must be exactly 
\family typewriter
CLDF
\family default
 (
\family typewriter
0x46444C43
\family default
 when read as 32bit integer) followed by the next 4 bytes with content 
\family typewriter
RLZ!
\family default
 (
\family typewriter
0x215A4C52
\family default
 when read as 32bit integer).
 This information is used to identify the file type and check that this
 is indeed a valid C6B file.
 This also allows disambiguation with other magic file headers and thus
 guarantees a unique identification in the UNIX world.
\end_layout

\begin_layout Standard
The next 8
\begin_inset space \thinspace{}
\end_inset

bytes encode the file format version number consisting of a major and minor
 number.
 All minor version changes are downwards compatible.
 No content sections in the files will be removed or altered when a new
 minor version is released.
 Consequently, applications supporting older version of file formats can
 still read newer files formats.
 For example, minor versions may add meta information to the file headers
 that can simply be ignored.
\end_layout

\begin_layout Standard
Major version changes indicate significant changes in the file format and
 result in incompatible files.
 A major revision number change might require updates for older distributions
 of the software using C6B files.
 The maximum major and minor version number is limited to 255, corresponding
 to an 8
\begin_inset space \thinspace{}
\end_inset

bit number.
\end_layout

\begin_layout Subsection
Version Number Encoding
\end_layout

\begin_layout Standard
The binary version number is encoded in two 32
\begin_inset space \thinspace{}
\end_inset

bit unsigned int values (64
\begin_inset space \thinspace{}
\end_inset

bit).
 The actual version numbers are encoded in the first 32
\begin_inset space \thinspace{}
\end_inset

bit unsigned int, which is followed by a dummy 32
\begin_inset space \thinspace{}
\end_inset

bit unsigned int, as shown in the following example (hex).
\end_layout

\begin_layout Standard
\begin_inset listings
lstparams "tabsize=4"
inline false
status open

\begin_layout Plain Layout

0x010F0000 0x00000000
\end_layout

\end_inset


\end_layout

\begin_layout Standard
Here, the first byte encodes the major version number (here 1), and the
 second byte encodes the minor version number (here 15, as 0F in hexadecimal).
 The remaining 6
\begin_inset space \thinspace{}
\end_inset

bytes of the 8
\begin_inset space \thinspace{}
\end_inset

byte version block are reserved and must be zero.
\end_layout

\begin_layout Section
Meta Data Section
\begin_inset CommandInset label
LatexCommand label
name "sec:Meta-Data-Section"

\end_inset


\end_layout

\begin_layout Standard
Additional meta data describes the content of the data section and provides
 information about the station where climate data was measured.
 The meta data section is designed to be easily extensible in future versions.
 Generally, the meta data section consists of several lines of text with
 a leading number identifying the number of lines, see Table
\begin_inset space ~
\end_inset


\begin_inset CommandInset ref
LatexCommand ref
reference "tab:MetaDataSection"

\end_inset

.
\end_layout

\begin_layout Standard
\begin_inset Float table
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Tabular
<lyxtabular version="3" rows="3" columns="2">
<features rotate="0" tabularvalignment="middle">
<column alignment="center" valignment="top" width="0pt">
<column alignment="left" valignment="top" width="0pt">
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\family typewriter
\series bold
\size footnotesize
Data Type
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" topline="true" bottomline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\family typewriter
\series bold
\size footnotesize
Description
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\family typewriter
\size footnotesize
32bit unsigned int
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\family typewriter
\size footnotesize
n - Number of lines/strings to follow
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\family typewriter
\size footnotesize
n x String
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\family typewriter
\size footnotesize
n times String base data type
\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Meta Data Section
\begin_inset CommandInset label
LatexCommand label
name "tab:MetaDataSection"

\end_inset


\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
The first two integer values in the header can be used to quickly access
 the output data content without parsing the header.
 This is primarily useful when developing automatic data extracting tools
 that do not require header information.
 In such cases, development of header parsing functionality is not necessary
 and with the file offset stored after the magic header, it is possible
 to seek directory to the data section in the file.
\end_layout

\begin_layout Standard
Each of the lines/strings in the header has the format
\end_layout

\begin_layout Standard
\begin_inset listings
lstparams "tabsize=4"
inline false
status open

\begin_layout Plain Layout

<keyword>=<value>
\end_layout

\end_inset


\end_layout

\begin_layout Standard
with the following keyword/value pairs currently defined.
 When reading the file, the keyword and value should be split up at the
 equal-character '=', and then interpreted according to the definitions
 in Table
\begin_inset space ~
\end_inset


\begin_inset CommandInset ref
LatexCommand ref
reference "tab:Keywords-and-values"

\end_inset

.
 The CITY name is mandatory, since it is used for identification.
 For radiation load calculations, timezone, latitude and longitude are required.
 
\end_layout

\begin_layout Standard
The TIMEZONE parameter must be of integer data type.
 Longitude is defined positively eastward (e.g.
 13.7565 deg for Dresden, Germany).
 You may add 360 deg to negative longitude values (e.g.
 -68.9302 = 291.0698 deg for Willemstad, Curaçao), or store the negative value
 (full value range is from -180..360 deg).
\end_layout

\begin_layout Standard
\begin_inset Float table
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center

\family typewriter
\size footnotesize
\begin_inset Tabular
<lyxtabular version="3" rows="11" columns="3">
<features rotate="0" tabularvalignment="middle">
<column alignment="center" valignment="top">
<column alignment="left" valignment="top">
<column alignment="center" valignment="top">
<row>
<cell alignment="center" valignment="top" topline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\family typewriter
\series bold
\size footnotesize
Keyword
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" topline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\family typewriter
\series bold
\size footnotesize
Value-Description
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\family typewriter
\series bold
\size footnotesize
Parameter required?
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\family typewriter
\size footnotesize
COUNTRY
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" topline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\family typewriter
\size footnotesize
descriptive name
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\family typewriter
\size footnotesize
CITY
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\family typewriter
\size footnotesize
descriptive name
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\family typewriter
\size footnotesize
x
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\family typewriter
\size footnotesize
WMO
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\family typewriter
\size footnotesize
WMO station code
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\family typewriter
\size footnotesize
SOURCE
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\family typewriter
\size footnotesize
description of data source
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\family typewriter
\size footnotesize
TIMEZONE
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\family typewriter
\size footnotesize
-12..12
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\family typewriter
\size footnotesize
x
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\family typewriter
\size footnotesize
LATITUDE
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\family typewriter
\size footnotesize
in deg, -90..90, always defined northward
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\family typewriter
\size footnotesize
x
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\family typewriter
\size footnotesize
LONGITUDE
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\family typewriter
\size footnotesize
in deg, -180..180, alternatively 0..360
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\family typewriter
\size footnotesize
x
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\family typewriter
\size footnotesize
STARTYEAR
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\family typewriter
\size footnotesize
year where data starts, for non-cyclic data
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\family typewriter
\size footnotesize
ELEVATION
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\family typewriter
\size footnotesize
elevation above N.N.
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\family typewriter
\size footnotesize
COMMENT
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\family typewriter
\size footnotesize
description about station data/additional information
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Keywords and Values in Meta Data Section
\begin_inset CommandInset label
LatexCommand label
name "tab:Keywords-and-values"

\end_inset


\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Section
Data Section
\end_layout

\begin_layout Standard
The climatic data is stored as individual value vectors (see Table
\begin_inset space ~
\end_inset


\begin_inset CommandInset ref
LatexCommand ref
reference "tab:DataSection"

\end_inset

).
 
\end_layout

\begin_layout Standard
\begin_inset Float table
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Tabular
<lyxtabular version="3" rows="3" columns="2">
<features rotate="0" tabularvalignment="middle">
<column alignment="center" valignment="top" width="0pt">
<column alignment="left" valignment="top" width="0pt">
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\family typewriter
\series bold
\size footnotesize
Data Type
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" topline="true" bottomline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\family typewriter
\series bold
\size footnotesize
Description
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" bottomline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\family typewriter
\size footnotesize
n x Double array
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" bottomline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\family typewriter
\size footnotesize
n times Double array base data type, where n is the number of defined climate
 data components
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\family typewriter
\size footnotesize
Double array
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\family typewriter
\size footnotesize
Double array base data type, with time point offsets (optional, only if
 not using annual hourly data)
\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Meta Data Section
\begin_inset CommandInset label
LatexCommand label
name "tab:DataSection"

\end_inset


\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
In the current version of the C6B format, exactly 9 climate data arrays
 have to be stored in order and units
\begin_inset Foot
status open

\begin_layout Plain Layout
The units are selected such that they correspond to typical user's units.
 Storing data in basic SI units may result in unit conversion errors and
 numbers like 92 degree might become 91.99999999 degree after conversion.
\end_layout

\end_inset

 given in Table
\begin_inset space ~
\end_inset


\begin_inset CommandInset ref
LatexCommand ref
reference "tab:ClimateComponents"

\end_inset

 (units given in brackets).
 That means, that the first data array holds temperatures in degree C, the
 second holds relative humidity values as percentages (0..100).
 The last data array holds rain intensity on a horizontal surface in liters
 per square meter and hour.
\end_layout

\begin_layout Standard
\begin_inset Float table
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Tabular
<lyxtabular version="3" rows="10" columns="2">
<features rotate="0" tabularvalignment="middle">
<column alignment="center" valignment="top">
<column alignment="left" valignment="top">
<row>
<cell alignment="center" valignment="top" topline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\family typewriter
\series bold
\size footnotesize
Name
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" topline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\family typewriter
\series bold
\size footnotesize
Description
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\family typewriter
\size footnotesize
Temperature
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" topline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\family typewriter
\size footnotesize
Ambient temperature [C]
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\family typewriter
\size footnotesize
RelativeHumidity
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\family typewriter
\size footnotesize
Ambient relative humidity [%, 0..100]
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\family typewriter
\size footnotesize
DirectRadiationNormal
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\family typewriter
\size footnotesize
Direct short wave radiation in sun's normal direction [W/m2]
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\family typewriter
\size footnotesize
DiffuseRadiationHorizontal
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\family typewriter
\size footnotesize
Diffuse short wave radiation on horizontal surface [W/m2]
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\family typewriter
\size footnotesize
WindDirection
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\family typewriter
\size footnotesize
Wind direction [deg], 0 deg - North, 90 deg - East, < 360 deg.
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\family typewriter
\size footnotesize
WindVelocity
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\family typewriter
\size footnotesize
Wind velocity [m/s]
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\family typewriter
\size footnotesize
LongWaveCounterRadiation
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\family typewriter
\size footnotesize
Long wave counter radiation [W/m2]
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\family typewriter
\size footnotesize
AirPressure
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\family typewriter
\size footnotesize
Atmospheric pressure [Pa]
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\family typewriter
\size footnotesize
Rain
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\family typewriter
\size footnotesize
Rain flux density on horizontal plane [l/m2h] (liters per square meter and
 hour)
\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Climata Data Components in Data Section
\begin_inset CommandInset label
LatexCommand label
name "tab:ClimateComponents"

\end_inset


\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
When data for a certain climate data component is not available, the data
 array should contain only 0 numbers.
 
\end_layout

\begin_layout Subsection
Cyclic Annual Data
\end_layout

\begin_layout Standard
Typically, C6B files will hold annual hourly data that can be applied as
 cyclic data sets.
 When storing annual hourly data, the vectors/data arrays must have exactly
 8760 values.
 The first data value corresponds to the 
\shape italic
end of the first hour
\shape default
 i.e.
 1:00:00.
 Values between points are meant to be linearly interpolated (see Figure
\begin_inset space ~
\end_inset


\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Interpolation-of-annual"

\end_inset

).
 The values within the first hour of the year are meant to be interpolated
 between the last point (day 365, 24:00 is the same as day 0, 0:00) and
 the value at the end of the first hour as illustrated in Figure
\begin_inset space ~
\end_inset


\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Interpolation-of-annual"

\end_inset

.
 Since both values are the same, the data set starts at 1 hour (no redundant
 storage of value at 0:00:00).
\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename interpolation_sketch.pdf
	width 10cm
	BoundingBox 0bp 270bp 400bp 550bp
	clip

\end_inset


\begin_inset Caption Standard

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "fig:Interpolation-of-annual"

\end_inset

Interpolation of Annual Cyclic Climate Data
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
The arrays with annual data for all climate components are followed by an
 empty vector (size 0).
 An empty vector indicates that the data vectors hold hourly values for
 the whole year.
\end_layout

\begin_layout Subsection
Non-Cyclic/Continuous Data
\end_layout

\begin_layout Standard
For non-cyclic data, for example from in-situ measurements, the number of
 values in each data vector can be different from 8760.
 However,
\shape italic
 all vectors must have the same length
\shape default
.
 The data is followed by a single data vector that contains the time points
 corresponding to the data values in the preceding data arrays.
 If this vector is not empty (length > 0), it must contain 
\shape italic
exactly as many values 
\shape default
as all of the data 
\shape italic
arrays in the data section
\shape default
.
 The time points in the vector are in seconds since begin of the start year
 as given in the meta data section, see 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Interpolation-of-annual"

\end_inset

.
 For data that spans several years, the time points may exceed 365*24*3600
 seconds.
 Time points must be strictly monotonically increasing.
\end_layout

\begin_layout Standard
The values between the given time points are meant to be linearly interpolated
 as for the cyclic annual data.
 Since values before the first time point and past the last time point are
 not provided, there is no evaluation rule to be applied.
 Users of continuous climate data must deal with this appropriately (e.g.
 constant extrapolation or prohibit access to climate data outside the valid
 date/time range).
\end_layout

\end_body
\end_document
